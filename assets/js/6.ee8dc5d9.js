(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{364:function(t,s){t.exports="data:image/png;base64,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"},365:function(t,s,a){t.exports=a.p+"assets/img/1-2.cd806425.png"},377:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("首先使用 "),n("a",{attrs:{href:"https://koa.bootcss.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Koa"),n("OutboundLink")],1),t._v(" 初始化一个"),n("code",[t._v("nodejs")]),t._v("项目")]),t._v(" "),n("p",[t._v("安装 Koa")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm install koa\n")])])]),n("p",[t._v("根目录下新建 "),n("code",[t._v("app.js")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Koa "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'koa'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Koa")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node start success'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("nodejs project listening on port 3000")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),n("p",[t._v("在项目所在目录打开命令行，运行启动命令")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("node app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),n("p",[n("img",{attrs:{src:a(364),alt:""}})]),t._v(" "),n("h3",{attrs:{id:"使用pm2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用pm2"}},[t._v("#")]),t._v(" 使用pm2")]),t._v(" "),n("p",[t._v("接下来使用  "),n("code",[t._v("pm2")]),t._v(" 代替原始的 "),n("code",[t._v("node")]),t._v(" 命令运行项目")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://pm2.keymetrics.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("pm2官网"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("code",[t._v("pm2")]),t._v(" 是"),n("code",[t._v("nodejs")]),t._v("进程管理器，使用 "),n("code",[t._v("npm")]),t._v("全局安装"),n("code",[t._v("pm2")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("npm install pm2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g\n")])])]),n("p",[t._v("创建一个配置文件，以更好管理"),n("code",[t._v("pm2")]),t._v("的启动，"),n("a",{attrs:{href:"https://pm2.keymetrics.io/docs/usage/application-declaration/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网地址"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[t._v("配置文件要以 .config.js 结尾")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pm2.config.js")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    apps "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nodejs-main-server-3000"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启动进程名")]),t._v("\n      script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./app.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启动文件")]),t._v("\n      instances"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启动进程数")]),t._v("\n      exec_mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cluster'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多进程多实例")]),t._v("\n      env_development"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"development"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        watch"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开发环境使用 true，其他必须设置为 false")]),t._v("\n        ignore_watch"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"log"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bin"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      env_testing"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testing"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        watch"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开发环境使用 true，其他必须设置为 false")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      env_production"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        watch"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开发环境使用 true，其他必须设置为 false")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      log_date_format"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YYYY-MM-DD HH:mm:ss'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      error_file"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./log/err.log'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误日志文件，必须设置在项目外的目录，这里为了测试")]),t._v("\n      out_file"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./log/info.log'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  流水日志，包括 console.log 日志，必须设置在项目外的目录，这里为了测试")]),t._v("\n      max_restarts"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("通过配置文件来启动，模式为开发模式。开发模式的"),n("code",[t._v("watch")]),t._v("为"),n("code",[t._v("true")]),t._v("，可以监听变化，自动重新编译")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("pm2 start pm2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("env development\n")])])]),n("p",[t._v("启动后会在项目根目录下输出日志")]),t._v(" "),n("p",[n("img",{attrs:{src:a(365),alt:"log日志"}})]),t._v(" "),n("p",[t._v("修改"),n("code",[t._v("app.js")]),t._v("的内容，刷新页面，内容正常更新。说明项目启动和监听变动生效了")])])}),[],!1,null,null,null);s.default=e.exports}}]);